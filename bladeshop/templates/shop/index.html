{% extends 'base.html' %}
{% block header %}
<h1>Shop Home</h1>
{% endblock header %}
{% block content %}
    <div class="search-block" action="/">
        <form method="get" >
            <input name="name" type="text" placeholder="search" value="{{request.args.get("name", default="")}}" />
            <button type="submit">Search</button>
        </form>
    </div>
    <div class="shop-items">
        <ul>
        todo:
<li>-make changes in cart qty automatically update webpage</li>
<li>-finish checkout button functionality</li>
<li>-add product filtering & category pill linking</li>
<li>-clean ui (fix grids especially)</li>
<li>add a redirect if someone tries to add an item to their cart that brings up a login prompt</li>
    </ul>
    {% for prd in products %}
        <article class="product">
            <a href="{{ url_for('shop.product', prd_id=prd.prd_id) }}">
                <header>
                    <h2>{{prd.prd_name}}</h2>
                </header>
                <div class="body">
                    <div class="item-category-pill">{{prd.prd_category}}</div>
                    <p>${{prd.prd_price}}</p>
                </div>
            </a>
            <button onclick="addToCart({{ prd.prd_id }}, 1)" type="button">add to cart</button>
        </article>
    {% endfor %}

    </div>
{% endblock content %}